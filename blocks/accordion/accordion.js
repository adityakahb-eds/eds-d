import{$,addClass,addEvent,createElement,generateUniqueId,hasClass,removeClass,slideDown,slideUp,wrapElements}from"../../scripts/__constants.js";const init=e=>{"true"===e.closest(".accordion-section").getAttribute("data-containerize")&&(addClass(e.closest(".accordion-wrapper"),"container"),wrapElements([e],{className:"col-12"}),wrapElements([e.closest(".col-12")],{className:"row"}));Array.from(e.children).forEach(e=>{addClass(e,"accordion-item");const[a,t,s]=Array.from(e.children),o=generateUniqueId("accordion_item_"),c=$(a,"h2, h3, h4, h5, h6"),i=createElement("button"),n="open"===($(s,"p")?.textContent||"");addClass(t,"accordion-collapse"),addClass(s,"accordion-toggle"),t.setAttribute("id",o),s.setAttribute("aria-hidden","true"),i.setAttribute("type","button"),i.innerHTML=`${c.innerHTML}<span class="icon-gm accordion-icon-open">add</span>\n      <span class="icon-gm accordion-icon-close">remove</span>`,addClass(i,"accordion-button"),i.setAttribute("aria-expanded","false"),i.setAttribute("aria-controls",o),n&&(i.setAttribute("aria-expanded","true"),addClass(t,"accordion-collapse-active"),addClass(e,"accordion-item-active"),t.style.display="block"),addEvent(i,"click",()=>{hasClass(t,"accordion-collapse-active")?(slideUp(t),i.setAttribute("aria-expanded","false"),removeClass(t,"accordion-collapse-active"),removeClass(e,"accordion-item-active")):(slideDown(t),i.setAttribute("aria-expanded","true"),addClass(t,"accordion-collapse-active"),addClass(e,"accordion-item-active"))}),c.innerHTML="",c.appendChild(i),addClass(c,"accordion-header")})};export default async function decorate(e){init(e)}